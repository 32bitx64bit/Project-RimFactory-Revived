<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <!-- *** Puller *** -->
  <ThingDef Name="Building_AutoMachineTool_Puller_Base" Parent="PRFBuildingBase" Abstract="true">
    <thingClass>ProjectRimFactory.AutoMachineTool.Building_ItemPuller</thingClass>
    <drawerType>RealtimeOnly</drawerType>
    <tickerType>Never</tickerType>
    <category>Building</category>
    <selectable>true</selectable>
    <designatorDropdown>Pullers_gr</designatorDropdown>

    <!-- should set. -->
    <graphicData>
      <texPath>AutoMachineTool/Buildings/Puller</texPath>
      <graphicClass>ProjectRimFactory.AutoMachineTool.Graphic_Selectable</graphicClass>
      <drawSize>(1,1)</drawSize>
    </graphicData>
    <costList>
      <Steel>1</Steel>
    </costList>
    <statBases>
      <WorkToBuild>100</WorkToBuild>
    </statBases>
    <researchPrerequisites>
    </researchPrerequisites>
    <designationCategory>Industrial</designationCategory>
    <size>(1,1)</size>


    <fillPercent>0.5</fillPercent>
    <constructEffect>ConstructMetal</constructEffect>
    <passability>Standable</passability>
    <rotatable>true</rotatable>
    <leaveResourcesWhenKilled>True</leaveResourcesWhenKilled>

    <drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>

    <modExtensions>
      <li Class="ProjectRimFactory.AutoMachineTool.ModExtension_WorkSpeed">
        <speedFactor>1</speedFactor>
        <minPower>200</minPower>
        <maxPower>10000</maxPower>
      </li>
      <li Class="ProjectRimFactory.AutoMachineTool.ModExtension_WorkIORange">
        <outputCellResolverType>ProjectRimFactory.AutoMachineTool.Building_ItemPullerCellResolver</outputCellResolverType>
        <inputCellResolverType>ProjectRimFactory.AutoMachineTool.Building_ItemPullerCellResolver</inputCellResolverType>
      </li>
    </modExtensions>

    <inspectorTabs>
      <li>ProjectRimFactory.AutoMachineTool.ITab_PullerFilter</li>
      <li>ProjectRimFactory.AutoMachineTool.ITab_PowerSupply</li>
      <li>ProjectRimFactory.AutoMachineTool.ITab_ProductLimitation</li>
    </inspectorTabs>

  </ThingDef>

  <ThingDef ParentName="Building_AutoMachineTool_Puller_Base">
    <defName>Building_AutoMachineTool_Puller</defName>
    <label>PRF Item Pusher</label>

    <passability>Impassable</passability>
    <description>Place it next to the pulling zone. Pull out from the opposite side of the installed orientation and output it in the installed orientation.
Since the drawing machine is in a non-operating state in the post-installation state, it selects the drawing machine and put it in the operating state from the button.</description>
    <altitudeLayer>Building</altitudeLayer>
    <comps>
      <li Class="CompProperties_Power">
        <compClass>CompPowerTrader</compClass>
        <basePowerConsumption>1000</basePowerConsumption>
        <shortCircuitInRain>false</shortCircuitInRain>
      </li>
      <li Class="CompProperties_Breakdownable"/>
      <li Class="CompProperties_Flickable"/>
      <li>
        <compClass>ProjectRimFactory.Common.CompPRFHelp</compClass>
      </li>
    </comps>
    <placeWorkers>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_OutputCellsHilight</li>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_InputCellsHilight</li>
    </placeWorkers>
  </ThingDef>

  <!-- Wall Pusher -->
  <ThingDef ParentName="Building_AutoMachineTool_Puller_Base">
    <defName>Building_AutoMachineTool_Puller_Wall</defName>
    <label>PRF Pusher In-Wall</label>
    <description>Place it next to the pulling zone. Pull out from the opposite side of the installed orientation and output it in the installed orientation.(In the wall)
Since the drawing machine is in a non-operating state in the post-installation state, it selects the drawing machine and put it in the operating state from the button.</description>
    <altitudeLayer>BuildingOnTop</altitudeLayer>
    <building>
      <isEdifice>false</isEdifice>
    </building>
    <comps>
      <li Class="CompProperties_Power">
        <compClass>CompPowerTrader</compClass>
        <basePowerConsumption>1000</basePowerConsumption>
        <transmitsPower>false</transmitsPower>
      </li>
      <li Class="CompProperties_Breakdownable"/>
      <li Class="CompProperties_Flickable"/>
      <li>
        <compClass>ProjectRimFactory.Common.CompPRFHelp</compClass>
      </li>
    </comps>
    <clearBuildingArea>false</clearBuildingArea>
    <graphicData>
      <drawSize>(0.8,0.8)</drawSize>
    </graphicData>
    <placeWorkers>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_WallEmbedded</li>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_OutputCellsHilight</li>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_InputCellsHilight</li>
    </placeWorkers>
  </ThingDef>


  <!-- Effects. Should change xml location. -->
  <EffecterDef>
    <defName>AutoMachineTool_Effect_ProgressBar</defName>
    <children>
      <li>
        <subEffecterClass>SubEffecter_ProgressBar</subEffecterClass>
        <moteDef>AutoMachineTool_Mote_ProgressBar</moteDef>
      </li>
    </children>
  </EffecterDef>

  <ThingDef ParentName="MoteBase">
    <defName>AutoMachineTool_Mote_ProgressBar</defName>
    <graphicData>
      <texPath>Things/Mote/Transparent</texPath>
    </graphicData>
    <thingClass>ProjectRimFactory.AutoMachineTool.MoteProgressBar2</thingClass>
    <altitudeLayer>MetaOverlays</altitudeLayer>
    <mote>
      <solidTime>240</solidTime>
    </mote>
  </ThingDef>
</Defs>
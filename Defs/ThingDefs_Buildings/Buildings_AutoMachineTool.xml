<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <!--======================================= Pusher base ===============================================-->
  <ThingDef Name="Building_AutoMachineTool_Puller_Base" Abstract="true">
    <thingClass>ProjectRimFactory.AutoMachineTool.Building_ItemPuller</thingClass>
    <drawerType>RealtimeOnly</drawerType>
    <tickerType>Never</tickerType>
    <category>Building</category>
    <selectable>true</selectable>
    <designatorDropdown>Pullers_gr</designatorDropdown>
    <graphicData>
      <texPath>AutoMachineTool/Buildings/Puller</texPath>
      <graphicClass>ProjectRimFactory.AutoMachineTool.Graphic_Selectable</graphicClass>
      <drawSize>(1.2,1.2)</drawSize>
    </graphicData>
    <costList>
      <Steel>150</Steel>
      <ComponentIndustrial>10</ComponentIndustrial>
    </costList>
    <statBases>
      <MaxHitPoints>120</MaxHitPoints>
      <WorkToBuild>300</WorkToBuild>
      <Flammability>0</Flammability>
      <Mass>20</Mass>
      <Beauty>-2</Beauty>
    </statBases>
    <researchPrerequisites>
    </researchPrerequisites>
    <designationCategory>Industrial</designationCategory>
    <size>(1,1)</size>
    <fillPercent>0.5</fillPercent>
    <constructEffect>ConstructMetal</constructEffect>
    <passability>Standable</passability>
    <rotatable>true</rotatable>
    <leaveResourcesWhenKilled>True</leaveResourcesWhenKilled>
    <drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
    <constructionSkillPrerequisite>12</constructionSkillPrerequisite>
    <comps>
      <li Class="CompProperties_Power">
        <compClass>CompPowerTrader</compClass>
        <shortCircuitInRain>false</shortCircuitInRain>
        <basePowerConsumption>60</basePowerConsumption>
      </li>
      <li Class="CompProperties_Breakdownable"/>
      <li Class="CompProperties_Flickable"/>
      <li>
        <compClass>ProjectRimFactory.Common.CompPRFHelp</compClass>
      </li>
    </comps>
    <modExtensions>
      <li Class="ProjectRimFactory.AutoMachineTool.ModExtension_WorkSpeed">
        <speedFactor>31</speedFactor>
        <minPower>100</minPower>
        <maxPower>1000</maxPower>
      </li>
      <li Class="ProjectRimFactory.AutoMachineTool.ModExtension_WorkIORange">
        <outputCellResolverType>ProjectRimFactory.AutoMachineTool.Building_ItemPullerCellResolver</outputCellResolverType>
        <inputCellResolverType>ProjectRimFactory.AutoMachineTool.Building_ItemPullerCellResolver</inputCellResolverType>
      </li>
    </modExtensions>
    <inspectorTabs>
      <li>ProjectRimFactory.AutoMachineTool.ITab_PullerFilter</li>
      <li>ProjectRimFactory.AutoMachineTool.ITab_PowerSupply</li>
      <li>ProjectRimFactory.AutoMachineTool.ITab_ProductLimitation</li>
    </inspectorTabs>
  </ThingDef>

  <!--======================================= Item Pusher ===============================================-->
  <ThingDef ParentName="Building_AutoMachineTool_Puller_Base">
    <defName>Building_AutoMachineTool_Puller</defName>
    <label>Item Pusher</label>

    <passability>Impassable</passability>
    <description>(Tier 2) A pusher That push items from A to B more Flexible in in/output then IR Pusher/pullers, might be usefull in some cases</description>
    <altitudeLayer>Building</altitudeLayer>
    <placeWorkers>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_OutputCellsHilight</li>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_InputCellsHilight</li>
    </placeWorkers>
  </ThingDef>

  <!--======================================= Wall Item Pusher ===============================================-->
  <ThingDef ParentName="Building_AutoMachineTool_Puller_Base">
    <defName>Building_AutoMachineTool_Puller_Wall</defName>
    <label>Pusher In-Wall</label>
    <description>(Tier 2) A pusher That push items from A to B more Flexible in in/output then IR Pusher/pullers, might be usefull in some cases</description>
    <altitudeLayer>BuildingOnTop</altitudeLayer>
    <building>
      <isEdifice>false</isEdifice>
    </building>
    <clearBuildingArea>false</clearBuildingArea>
    <graphicData>
      <drawSize>(0.9,0.9)</drawSize>
    </graphicData>
    <placeWorkers>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_WallEmbedded</li>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_OutputCellsHilight</li>
      <li>ProjectRimFactory.AutoMachineTool.PlaceWorker_InputCellsHilight</li>
    </placeWorkers>
  </ThingDef>

  <!--======================================= Effect ===============================================-->
  <!-- Effects. Should change xml location. -->
  <EffecterDef>
    <defName>AutoMachineTool_Effect_ProgressBar</defName>
    <children>
      <li>
        <subEffecterClass>SubEffecter_ProgressBar</subEffecterClass>
        <moteDef>AutoMachineTool_Mote_ProgressBar</moteDef>
      </li>
    </children>
  </EffecterDef>

  <ThingDef ParentName="MoteBase">
    <defName>AutoMachineTool_Mote_ProgressBar</defName>
    <graphicData>
      <texPath>Things/Mote/Transparent</texPath>
    </graphicData>
    <thingClass>ProjectRimFactory.AutoMachineTool.MoteProgressBar2</thingClass>
    <altitudeLayer>MetaOverlays</altitudeLayer>
    <mote>
      <solidTime>240</solidTime>
    </mote>
  </ThingDef>
</Defs>